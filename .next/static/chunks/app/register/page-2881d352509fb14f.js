(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{4684:function(e,t,r){Promise.resolve().then(r.bind(r,564))},564:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(7437),n=r(2265),s=r(7648),l=r(9376),i=r(4342),c=r(2381),o=r(9820),d=r(279);function u(){let e=(0,l.useRouter)(),[t,r]=(0,n.useState)(""),[u,f]=(0,n.useState)(""),[x,m]=(0,n.useState)(""),[h,p]=(0,n.useState)(null),[b,g]=(0,n.useState)(!1),[v,N]=(0,n.useState)(!1);async function j(r){r.preventDefault(),p(null),N(!1),g(!0);let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenantName:t,email:u,password:x})}),n=await a.json();if(g(!1),!a.ok){var s;p(null!==(s=n.error)&&void 0!==s?s:"No se pudo crear la cuenta");return}N(!0),setTimeout(()=>e.push("/login"),1200)}return(0,a.jsx)(i.Shell,{hideNav:!0,children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(o.Zb,{className:"w-full max-w-md",children:[(0,a.jsx)("p",{className:"text-sm uppercase tracking-[0.4em] text-slate-400",children:"Crear cuenta"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Empez\xe1 con tu agenda"}),(0,a.jsxs)("form",{className:"mt-6 space-y-4",onSubmit:j,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-slate-500",children:"Nombre de la cl\xednica"}),(0,a.jsx)(d.I,{required:!0,placeholder:"Cl\xednica Demo",value:t,onChange:e=>r(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-slate-500",children:"Email"}),(0,a.jsx)(d.I,{required:!0,type:"email",placeholder:"tu@clinica.com",value:u,onChange:e=>f(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-slate-500",children:"Contrase\xf1a"}),(0,a.jsx)(d.I,{required:!0,type:"password",minLength:8,value:x,onChange:e=>m(e.target.value)})]}),h&&(0,a.jsx)("p",{className:"text-sm text-red-600",children:h}),v&&(0,a.jsx)("p",{className:"text-sm text-green-600",children:"Cuenta creada. Redirigiendoâ€¦"}),(0,a.jsx)(c.z,{className:"w-full",disabled:b,children:b?"Creando...":"Crear cuenta"}),(0,a.jsxs)("p",{className:"text-center text-sm text-slate-500",children:["\xbfYa ten\xe9s cuenta?"," ",(0,a.jsx)(s.default,{href:"/login",className:"font-medium text-brand-600 hover:underline",children:"Ingres\xe1"})]})]})]})})})}},4342:function(e,t,r){"use strict";r.d(t,{Shell:function(){return u}});var a=r(7437),n=r(2265),s=r(7648),l=r(9376),i=r(2381),c=r(8933),o=r(3448);let d=[{href:"/calendar",label:"Calendario"},{href:"/today",label:"Hoy"},{href:"/patients",label:"Pacientes"},{href:"/settings",label:"Automatizaci\xf3n"}];function u(e){let{children:t,hideNav:r=!1}=e,u=(0,l.useRouter)(),f=(0,l.usePathname)(),[x,m]=(0,n.useState)(!1),h=async()=>{if(!x){m(!0);try{let e=(0,c.o)(),{error:t}=await e.auth.signOut();if(t)throw t;u.replace("/login"),u.refresh()}catch(e){console.error("Error signing out",e),m(!1)}}};return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col gap-8",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-slate-500",children:"Agend.ar"}),(0,a.jsx)("h1",{className:"text-3xl font-semibold",children:"Autopilot"})]}),!r&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("nav",{className:"flex gap-4 rounded-full border border-slate-200 bg-white/70 px-4 py-2 backdrop-blur",children:d.map(e=>(0,a.jsx)(s.default,{href:e.href,className:(0,o.cn)("rounded-full px-3 py-1 text-sm font-medium transition",(null==f?void 0:f.startsWith(e.href))?"bg-slate-900 text-white":"text-slate-500 hover:text-slate-900"),children:e.label},e.href))}),(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:h,disabled:x,children:x?"Saliendo...":"Cerrar sesi\xf3n"})]})]}),t]})}},2381:function(e,t,r){"use strict";r.d(t,{d:function(){return i},z:function(){return c}});var a=r(7437),n=r(535),s=r(2265),l=r(3448);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-brand-600 text-white hover:bg-brand-500",outline:"border border-slate-200 bg-white text-slate-900 hover:bg-slate-50",ghost:"text-slate-600 hover:bg-slate-100",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200",destructive:"bg-red-600 text-white hover:bg-red-500"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3",lg:"h-12 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"default"}}),c=(0,s.forwardRef)((e,t)=>{let{className:r,variant:n,size:s,...c}=e;return(0,a.jsx)("button",{ref:t,className:(0,l.cn)(i({variant:n,size:s,className:r})),...c})});c.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var a=r(7437),n=r(2265),s=r(3448);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-2xl border border-slate-200 bg-white/90 shadow-[0_10px_40px_-20px_rgba(15,23,42,0.4)] backdrop-blur",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},279:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(7437),n=r(2265),s=r(3448);let l=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("input",{ref:t,className:(0,s.cn)("flex h-10 w-full rounded-lg border border-slate-200 bg-white px-3 text-sm text-slate-900 shadow-sm placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",r),...n})});l.displayName="Input"},8933:function(e,t,r){"use strict";r.d(t,{o:function(){return n}});var a=r(5452);function n(){return(0,a.createClientComponentClient)()}},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(1994),n=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[851,679,971,117,744],function(){return e(e.s=4684)}),_N_E=e.O()}]);