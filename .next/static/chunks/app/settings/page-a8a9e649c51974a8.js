(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{4987:function(e,a,t){Promise.resolve().then(t.bind(t,4342)),Promise.resolve().then(t.bind(t,8384)),Promise.resolve().then(t.bind(t,7667)),Promise.resolve().then(t.bind(t,6499)),Promise.resolve().then(t.bind(t,5517)),Promise.resolve().then(t.bind(t,7299))},1723:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2207:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},9397:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3229:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},8906:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},8930:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(9205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4342:function(e,a,t){"use strict";t.d(a,{Shell:function(){return u}});var s=t(7437),r=t(2265),i=t(7648),n=t(9376),l=t(2381),o=t(8933),c=t(3448);let d=[{href:"/calendar",label:"Calendario"},{href:"/today",label:"Hoy"},{href:"/patients",label:"Pacientes"},{href:"/settings",label:"Automatizaci\xf3n"}];function u(e){let{children:a,hideNav:t=!1}=e,u=(0,n.useRouter)(),m=(0,n.usePathname)(),[p,h]=(0,r.useState)(!1),x=async()=>{if(!p){h(!0);try{let e=(0,o.o)(),{error:a}=await e.auth.signOut();if(a)throw a;u.replace("/login"),u.refresh()}catch(e){console.error("Error signing out",e),h(!1)}}};return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col gap-8",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-slate-500",children:"Agend.ar"}),(0,s.jsx)("h1",{className:"text-3xl font-semibold",children:"Autopilot"})]}),!t&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("nav",{className:"flex gap-4 rounded-full border border-slate-200 bg-white/70 px-4 py-2 backdrop-blur",children:d.map(e=>(0,s.jsx)(i.default,{href:e.href,className:(0,c.cn)("rounded-full px-3 py-1 text-sm font-medium transition",(null==m?void 0:m.startsWith(e.href))?"bg-slate-900 text-white":"text-slate-500 hover:text-slate-900"),children:e.label},e.href))}),(0,s.jsx)(l.z,{variant:"outline",size:"sm",onClick:x,disabled:p,children:p?"Saliendo...":"Cerrar sesi\xf3n"})]})]}),a]})}},8384:function(e,a,t){"use strict";t.d(a,{AutopilotSettings:function(){return f}});var s=t(7437),r=t(2265),i=t(9820),n=t(2381),l=t(4589),o=t(5662),c=t(3675),d=t(8752);let u={appointmentCreated:"appointment_created",reminder24h:"reminder_24h",reminder2h:"reminder_2h",waitlistOffer:"waitlist_offer"},m={[u.appointmentCreated]:"Hola {{1}}, agendamos tu turno para {{2}} a las {{3}} en {{4}}. Respond\xe9 1 Confirmar \xb7 2 Reprogramar \xb7 3 Cancelar \xb7 STOP para salir.",[u.reminder24h]:"Recordatorio {{1}} ma\xf1ana {{2}}. Respond\xe9 1 Confirmar \xb7 2 Reprogramar \xb7 3 Cancelar \xb7 STOP.",[u.reminder2h]:"Nos vemos hoy {{1}} a las {{2}}. Si necesit\xe1s moverlo respond\xe9 2, cancelar 3.",[u.waitlistOffer]:"Se liber\xf3 un turno {{1}} a las {{2}}. Respond\xe9 SI para tomarlo o STOP para salir."};var p=t(1817),h=t(3229);let x={[u.appointmentCreated]:{label:"Confirmaci\xf3n inmediata",description:"Mensaje enviado autom\xe1ticamente al agendar un nuevo turno."},[u.reminder24h]:{label:"Recordatorio 24hs",description:"Recordatorio enviado un d\xeda antes de la cita."},[u.reminder2h]:{label:"Recordatorio 2hs",description:"Recordatorio enviado el mismo d\xeda, 2 horas antes."},[u.waitlistOffer]:{label:"Lista de Espera",description:"Aviso autom\xe1tico cuando se libera un turno."}};function f(){let[e,a]=(0,r.useState)([]),[t,f]=(0,r.useState)(!0),[v,j]=(0,r.useState)(!1),{toast:g}=(0,d.pm)();(0,r.useEffect)(()=>{fetch("/api/settings/templates").then(e=>e.json()).then(e=>{e.templates&&a(Object.values(u).map(a=>e.templates.find(e=>e.name===a)||{name:a,content:m[a]||"",status:"inactive"}))}).catch(e=>{console.error(e),g({title:"Error",description:"No se pudieron cargar las configuraciones.",variant:"destructive"})}).finally(()=>f(!1))},[g]);let y=async()=>{j(!0);try{if(!(await fetch("/api/settings/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templates:e})})).ok)throw Error("Error al guardar");g({title:"Cambios guardados",description:"La configuraci\xf3n de automatizaci\xf3n ha sido actualizada."})}catch(e){g({title:"Error",description:"No se pudieron guardar los cambios.",variant:"destructive"})}finally{j(!1)}},b=(e,t)=>{a(a=>a.map(a=>a.name===e?{...a,...t}:a))};return t?(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsx)(i.ll,{children:"Automatizaci\xf3n"}),(0,s.jsx)(i.SZ,{children:"Configura los mensajes autom\xe1ticos de WhatsApp."})]}),(0,s.jsx)(i.aY,{className:"flex justify-center py-8",children:(0,s.jsx)(p.Z,{className:"h-8 w-8 animate-spin text-slate-400"})})]}):(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-6",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(i.ll,{children:"Automatizaci\xf3n"}),(0,s.jsx)(i.SZ,{children:"Gestiona tus mensajes autom\xe1ticos y plantillas."})]}),(0,s.jsxs)(n.z,{onClick:y,disabled:v,children:[v?(0,s.jsx)(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Guardar"]})]}),(0,s.jsx)(i.aY,{className:"space-y-8",children:e.map(e=>{let a=x[e.name]||{label:e.name,description:""},t="active"===e.status;return(0,s.jsxs)("div",{className:"rounded-lg border border-slate-100 bg-slate-50/50 p-4 transition-all hover:border-slate-200",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(o._,{htmlFor:"switch-".concat(e.name),className:"text-base font-medium",children:a.label}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:a.description})]}),(0,s.jsx)(l.r,{id:"switch-".concat(e.name),checked:t,onCheckedChange:a=>b(e.name,{status:a?"active":"inactive"})})]}),(0,s.jsxs)("div",{className:t?"opacity-100 transition-opacity":"opacity-50 transition-opacity",children:[(0,s.jsx)(o._,{htmlFor:"text-".concat(e.name),className:"mb-2 block text-xs font-medium uppercase text-slate-500",children:"Plantilla del mensaje"}),(0,s.jsx)(c.g,{id:"text-".concat(e.name),value:e.content,onChange:a=>b(e.name,{content:a.target.value}),className:"min-h-[80px] resize-y bg-white",placeholder:"Escribe el mensaje aqu\xed..."}),(0,s.jsxs)("p",{className:"mt-2 text-xs text-slate-400",children:["Variables disponibles: ","{{1}}",", ","{{2}}",", etc. seg\xfan corresponda."]})]})]},e.name)})})]})}},7667:function(e,a,t){"use strict";t.d(a,{IntegrationsSettings:function(){return g}});var s=t(7437),r=t(2265),i=t(9820),n=t(279),l=t(2381),o=t(5662),c=t(8752),d=t(1817),u=t(9205);let m=(0,u.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var p=t(3229);let h=(0,u.Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),x=(0,u.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),f=(0,u.Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),v=(0,u.Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var j=t(257);function g(){var e;let[a,t]=(0,r.useState)(!0),[u,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)({phoneNumberId:"",businessAccountId:"",accessToken:"",verifyToken:""}),{toast:N}=(0,c.pm)(),w=null!==(e=j.env.NEXT_PUBLIC_DEV_TENANT_ID)&&void 0!==e?e:void 0,k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w?{...e,"x-tenant-id":w}:e};(0,r.useEffect)(()=>{let e=!1;return(async()=>{try{var a;let t=await fetch("/api/settings/integrations",{headers:k()}),s=await t.json().catch(()=>({}));if(!t.ok)throw Error((null==s?void 0:s.error)||"No se pudo cargar la integraci\xf3n");!e&&(null===(a=s.integration)||void 0===a?void 0:a.credentials)&&b({phoneNumberId:s.integration.credentials.phoneNumberId||"",businessAccountId:s.integration.credentials.businessAccountId||"",accessToken:s.integration.credentials.accessToken||"",verifyToken:s.integration.credentials.verifyToken||""})}catch(a){e||(console.error(a),N({title:"Error al cargar",description:a instanceof Error?a.message:"No pudimos obtener la configuraci\xf3n.",variant:"destructive"}))}finally{e||t(!1)}})(),()=>{e=!0}},[N]);let C=async()=>{g(!0);try{let e=await fetch("/api/settings/integrations",{method:"POST",headers:k({"Content-Type":"application/json"}),body:JSON.stringify(y)}),a=await e.json().catch(()=>({}));if(!e.ok)throw Error((null==a?void 0:a.error)||"Error al guardar");N({title:"Configuraci\xf3n guardada",description:"Los datos de integraci\xf3n se han actualizado."})}catch(e){N({title:"Error",description:e instanceof Error?e.message:"No se pudieron guardar los cambios.",variant:"destructive"})}finally{g(!1)}};return a?(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsx)(i.ll,{children:"Integraci\xf3n WhatsApp (Meta)"}),(0,s.jsx)(i.SZ,{children:"Configurando conexi\xf3n..."})]}),(0,s.jsx)(i.aY,{className:"flex justify-center py-8",children:(0,s.jsx)(d.Z,{className:"h-8 w-8 animate-spin text-slate-400"})})]}):(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-6",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(i.ll,{children:"Integraci\xf3n WhatsApp (Meta)"}),(0,s.jsxs)(i.SZ,{children:["Configur\xe1 las credenciales de la API de WhatsApp Business.",(0,s.jsxs)("a",{href:"https://developers.facebook.com/apps/",target:"_blank",rel:"noreferrer",className:"text-brand-600 hover:underline inline-flex items-center gap-1 ml-1",children:["Ir a Meta Developers ",(0,s.jsx)(m,{className:"h-3 w-3"})]})]})]}),(0,s.jsxs)(l.z,{onClick:C,disabled:u,children:[u?(0,s.jsx)(d.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Guardar"]})]}),(0,s.jsxs)(i.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(o._,{htmlFor:"phoneNumberId",className:"flex items-center gap-2",children:[(0,s.jsx)(h,{className:"h-4 w-4 text-slate-500"}),"Phone Number ID"]}),(0,s.jsx)(n.I,{id:"phoneNumberId",value:y.phoneNumberId,onChange:e=>b({...y,phoneNumberId:e.target.value}),placeholder:"Ej: 100609346426084",className:"font-mono text-sm"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"El ID del n\xfamero de tel\xe9fono configurado en WhatsApp API."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(o._,{htmlFor:"businessAccountId",className:"flex items-center gap-2",children:[(0,s.jsx)(x,{className:"h-4 w-4 text-slate-500"}),"Business Account ID"]}),(0,s.jsx)(n.I,{id:"businessAccountId",value:y.businessAccountId,onChange:e=>b({...y,businessAccountId:e.target.value}),placeholder:"Ej: 100609346426084",className:"font-mono text-sm"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"El ID de tu cuenta comercial de Meta."})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(o._,{htmlFor:"accessToken",className:"flex items-center gap-2",children:[(0,s.jsx)(f,{className:"h-4 w-4 text-slate-500"}),"Access Token (Permanente)"]}),(0,s.jsx)(n.I,{id:"accessToken",type:"password",value:y.accessToken,onChange:e=>b({...y,accessToken:e.target.value}),placeholder:"EAAG...",className:"font-mono text-sm"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Token de acceso del sistema con permisos `whatsapp_business_messaging`."})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-4 border-t border-slate-100",children:[(0,s.jsxs)(o._,{htmlFor:"verifyToken",className:"flex items-center gap-2",children:[(0,s.jsx)(v,{className:"h-4 w-4 text-slate-500"}),"Verify Token (Webhook)"]}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(n.I,{id:"verifyToken",value:y.verifyToken,onChange:e=>b({...y,verifyToken:e.target.value}),placeholder:"Tu token secreto para webhooks",className:"font-mono text-sm"})})}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Usa este mismo token al configurar el Webhook en Meta."})]})]})]})}},6499:function(e,a,t){"use strict";t.d(a,{ProvidersSettings:function(){return v}});var s=t(7437),r=t(2265),i=t(9820),n=t(2381),l=t(4291),o=t(279),c=t(3675),d=t(5662),u=t(8752),m=t(9397),p=t(1817);let h=(0,t(9205).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var x=t(2207);let f={fullName:"",bio:"",avatarUrl:"",color:"",defaultLocationId:"",specialties:""};function v(e){let{locations:a}=e,[t,v]=(0,r.useState)([]),[j,g]=(0,r.useState)(!0),[y,b]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),[S,_]=(0,r.useState)(f),{toast:E}=(0,u.pm)(),T=(0,r.useCallback)(async()=>{g(!0);try{var e,a;let t=await fetch("/api/settings/providers"),s=await t.json();if(!t.ok)throw Error(null!==(e=null==s?void 0:s.error)&&void 0!==e?e:"Error al cargar profesionales");v(null!==(a=s.providers)&&void 0!==a?a:[])}catch(e){E({title:"No pudimos cargar los profesionales",description:e instanceof Error?e.message:"Reintent\xe1 en unos segundos",variant:"destructive"})}finally{g(!1)}},[E]);(0,r.useEffect)(()=>{T()},[T]);let I=e=>{if(e){var a,t,s,r;C(e.id),_({fullName:e.full_name,bio:null!==(a=e.bio)&&void 0!==a?a:"",avatarUrl:null!==(t=e.avatar_url)&&void 0!==t?t:"",color:null!==(s=e.color)&&void 0!==s?s:"",defaultLocationId:null!==(r=e.default_location_id)&&void 0!==r?r:"",specialties:e.specialties.join(", ")})}else C(null),_(f);b(!0)},Z=async()=>{w(!0);try{var e;let a={fullName:S.fullName.trim(),bio:S.bio.trim()?S.bio.trim():void 0,avatarUrl:S.avatarUrl.trim()?S.avatarUrl.trim():void 0,color:S.color.trim()?S.color.trim():void 0,defaultLocationId:S.defaultLocationId||void 0,specialties:S.specialties.split(",").map(e=>e.trim()).filter(Boolean)},t=await fetch(k?"/api/settings/providers/".concat(k):"/api/settings/providers",{method:k?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),s=await t.json().catch(()=>({}));if(!t.ok)throw Error(null!==(e=null==s?void 0:s.error)&&void 0!==e?e:"No pudimos guardar");E({title:"Profesional guardado",description:"".concat(a.fullName," actualizado.")}),b(!1),await T()}catch(e){E({title:"Error",description:e instanceof Error?e.message:"Intente m\xe1s tarde",variant:"destructive"})}finally{w(!1)}},A=async e=>{try{var a;let t=await fetch("/api/settings/providers/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!e.active})}),s=await t.json().catch(()=>({}));if(!t.ok)throw Error(null!==(a=null==s?void 0:s.error)&&void 0!==a?a:"No pudimos actualizar");await T()}catch(e){E({title:"Error",description:e instanceof Error?e.message:"No se pudo actualizar",variant:"destructive"})}},M=(0,r.useMemo)(()=>t.filter(e=>e.active),[t]),R=(0,r.useMemo)(()=>t.filter(e=>!e.active),[t]),z=e=>{var t,s;return null!==(s=null===(t=a.find(a=>a.id===e))||void 0===t?void 0:t.name)&&void 0!==s?s:"Sin asignar"};return(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ll,{children:"Equipo & Profesionales"}),(0,s.jsx)(i.SZ,{children:"Asigna responsables para cada tratamiento."})]}),(0,s.jsxs)(n.z,{onClick:()=>I(),children:[(0,s.jsx)(m.Z,{className:"mr-2 h-4 w-4"})," Nuevo profesional"]})]}),(0,s.jsx)(i.aY,{className:"space-y-6",children:j?(0,s.jsxs)("div",{className:"flex items-center justify-center py-12 text-slate-500",children:[(0,s.jsx)(p.Z,{className:"mr-2 h-5 w-5 animate-spin"})," Cargando profesionales..."]}):(0,s.jsx)("div",{className:"space-y-6",children:[M,R].map((e,a)=>(0,s.jsxs)("div",{className:"space-y-3",children:[0===a?(0,s.jsxs)("p",{className:"text-sm font-semibold text-slate-600",children:["Disponibles (",e.length,")"]}):e.length>0&&(0,s.jsx)("p",{className:"text-sm font-semibold text-slate-500",children:"Pausados"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[e.map(e=>{var a;return(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200/80 p-4 shadow-sm hover:border-slate-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-base font-semibold text-slate-900",children:e.full_name}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:z(e.default_location_id)})]}),(0,s.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:null!==(a=e.color)&&void 0!==a?a:"#475569",color:"white"},children:e.active?"Disponible":"Pausado"})]}),e.bio&&(0,s.jsx)("p",{className:"mt-3 text-sm text-slate-600 line-clamp-3",children:e.bio}),e.specialties.length>0&&(0,s.jsx)("div",{className:"mt-3 flex flex-wrap gap-2 text-xs text-slate-500",children:e.specialties.map(e=>(0,s.jsx)("span",{className:"rounded-full bg-slate-100 px-2 py-0.5",children:e},e))}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between text-sm text-slate-500",children:[(0,s.jsxs)("div",{className:"inline-flex items-center gap-1",children:[(0,s.jsx)(h,{className:"h-4 w-4"})," Agenda propia"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>I(e),children:[(0,s.jsx)(x.Z,{className:"mr-1 h-4 w-4"})," Editar"]}),(0,s.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>A(e),children:e.active?"Pausar":"Activar"})]})]})]},e.id)}),0===e.length&&0===a&&(0,s.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-200 p-8 text-center text-sm text-slate-500",children:"Sum\xe1 tu equipo para asignar turnos r\xe1pidamente."})]})]},a))})}),(0,s.jsx)(l.Vq,{open:y,onOpenChange:b,children:(0,s.jsxs)(l.cZ,{children:[(0,s.jsxs)(l.fK,{children:[(0,s.jsx)(l.$N,{children:k?"Editar profesional":"Nuevo profesional"}),(0,s.jsx)(l.Be,{children:"Los pacientes podr\xe1n elegir con qui\xe9n atenderse."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Nombre completo"}),(0,s.jsx)(o.I,{value:S.fullName,onChange:e=>_(a=>({...a,fullName:e.target.value}))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Biograf\xeda breve"}),(0,s.jsx)(c.g,{rows:3,value:S.bio,onChange:e=>_(a=>({...a,bio:e.target.value}))})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Avatar (URL)"}),(0,s.jsx)(o.I,{placeholder:"https://...",value:S.avatarUrl,onChange:e=>_(a=>({...a,avatarUrl:e.target.value}))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Color"}),(0,s.jsx)(o.I,{placeholder:"#0ea5e9",value:S.color,onChange:e=>_(a=>({...a,color:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Ubicaci\xf3n por defecto"}),(0,s.jsxs)("select",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",value:S.defaultLocationId,onChange:e=>_(a=>({...a,defaultLocationId:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Sin asignar"}),a.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Especialidades (separadas por coma)"}),(0,s.jsx)(o.I,{placeholder:"Masajes, Belleza, Post-operatorio",value:S.specialties,onChange:e=>_(a=>({...a,specialties:e.target.value}))})]})]}),(0,s.jsxs)(l.cN,{children:[(0,s.jsx)(n.z,{variant:"outline",onClick:()=>b(!1),disabled:N,children:"Cancelar"}),(0,s.jsxs)(n.z,{onClick:Z,disabled:N||!S.fullName.trim(),children:[N?(0,s.jsx)(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Guardar"]})]})]})})]})}},5517:function(e,a,t){"use strict";t.d(a,{ServicesSettings:function(){return v}});var s=t(7437),r=t(2265),i=t(9820),n=t(2381),l=t(4291),o=t(279),c=t(3675),d=t(5662),u=t(8752),m=t(9397),p=t(1817),h=t(2207);let x=(0,t(9205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),f={name:"",description:"",durationMinutes:30,price:"",currency:"ARS",color:"",imageUrl:""};function v(){let[e,a]=(0,r.useState)([]),[t,v]=(0,r.useState)(!0),[j,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),[k,C]=(0,r.useState)(f),{toast:S}=(0,u.pm)(),_=(0,r.useCallback)(async()=>{v(!0);try{var e,t;let s=await fetch("/api/settings/services"),r=await s.json();if(!s.ok)throw Error(null!==(e=null==r?void 0:r.error)&&void 0!==e?e:"Error al cargar servicios");a(null!==(t=r.services)&&void 0!==t?t:[])}catch(e){console.error(e),S({title:"No pudimos cargar los servicios",description:e instanceof Error?e.message:"Intente nuevamente",variant:"destructive"})}finally{v(!1)}},[S]);(0,r.useEffect)(()=>{_()},[_]);let E=e=>{if(e){var a,t,s,r;w(e.id),C({name:e.name,description:null!==(a=e.description)&&void 0!==a?a:"",durationMinutes:e.duration_minutes,price:e.price_minor_units?String(e.price_minor_units/100):"",currency:null!==(t=e.currency)&&void 0!==t?t:"ARS",color:null!==(s=e.color)&&void 0!==s?s:"",imageUrl:null!==(r=e.image_url)&&void 0!==r?r:""})}else w(null),C(f);b(!0)},T=async()=>{g(!0);try{var e;let a={name:k.name.trim(),description:k.description.trim()?k.description.trim():void 0,durationMinutes:Number(k.durationMinutes)||30,price:k.price?Number(k.price):void 0,currency:k.currency.trim()||"ARS",color:k.color.trim()?k.color.trim():void 0,imageUrl:k.imageUrl.trim()?k.imageUrl.trim():void 0},t=await fetch(N?"/api/settings/services/".concat(N):"/api/settings/services",{method:N?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),s=await t.json().catch(()=>({}));if(!t.ok)throw Error(null!==(e=null==s?void 0:s.error)&&void 0!==e?e:"No pudimos guardar");S({title:"Servicio guardado",description:"".concat(a.name," actualizado correctamente.")}),b(!1),await _()}catch(e){S({title:"Error",description:e instanceof Error?e.message:"Ocurri\xf3 un problema inesperado",variant:"destructive"})}finally{g(!1)}},I=async e=>{try{var a;let t=await fetch("/api/settings/services/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!e.active})}),s=await t.json().catch(()=>({}));if(!t.ok)throw Error(null!==(a=null==s?void 0:s.error)&&void 0!==a?a:"No pudimos actualizar el estado");await _()}catch(e){S({title:"Error",description:e instanceof Error?e.message:"No se pudo actualizar",variant:"destructive"})}},Z=(0,r.useMemo)(()=>e.filter(e=>e.active),[e]),A=(0,r.useMemo)(()=>e.filter(e=>!e.active),[e]);return(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ll,{children:"Tratamientos & Servicios"}),(0,s.jsx)(i.SZ,{children:"Define la carta que ver\xe1 el paciente al reservar."})]}),(0,s.jsxs)(n.z,{onClick:()=>E(),children:[(0,s.jsx)(m.Z,{className:"mr-2 h-4 w-4"})," Nuevo servicio"]})]}),(0,s.jsx)(i.aY,{className:"space-y-6",children:t?(0,s.jsxs)("div",{className:"flex items-center justify-center py-12 text-slate-500",children:[(0,s.jsx)(p.Z,{className:"mr-2 h-5 w-5 animate-spin"})," Cargando servicios..."]}):(0,s.jsx)("div",{className:"space-y-6",children:[Z,A].map((e,a)=>(0,s.jsxs)("div",{className:"space-y-3",children:[0===a?(0,s.jsxs)("p",{className:"text-sm font-semibold text-slate-600",children:["Activos (",e.length,")"]}):e.length>0&&(0,s.jsx)("p",{className:"text-sm font-semibold text-slate-500",children:"Pausados"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[e.map(e=>{var a,t,r;return(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200/80 p-4 shadow-sm transition hover:-translate-y-0.5 hover:border-slate-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-base font-semibold text-slate-900",children:e.name}),(0,s.jsxs)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:[e.duration_minutes," min \xb7 ",(t=e.price_minor_units,r=e.currency,null===t?"Sin precio":new Intl.NumberFormat("es-AR",{style:"currency",currency:r}).format(t/100))]})]}),(0,s.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:null!==(a=e.color)&&void 0!==a?a:e.active?"#0f172a":"#94a3b8",color:"white"},children:e.active?"Activo":"Pausado"})]}),e.description&&(0,s.jsx)("p",{className:"mt-3 text-sm text-slate-600",children:e.description}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between text-sm text-slate-500",children:[(0,s.jsxs)("span",{children:["Orden #",e.sort_order]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>E(e),children:[(0,s.jsx)(h.Z,{className:"mr-1 h-4 w-4"})," Editar"]}),(0,s.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>I(e),children:e.active?"Pausar":"Activar"})]})]})]},e.id)}),0===e.length&&0===a&&(0,s.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-200 p-8 text-center text-sm text-slate-500",children:"Agrega tu primer servicio para comenzar a vender online."})]})]},a))})}),(0,s.jsx)(l.Vq,{open:y,onOpenChange:b,children:(0,s.jsxs)(l.cZ,{children:[(0,s.jsxs)(l.fK,{children:[(0,s.jsx)(l.$N,{children:N?"Editar servicio":"Nuevo servicio"}),(0,s.jsx)(l.Be,{children:"Los pacientes ver\xe1n esta informaci\xf3n antes de confirmar su turno."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Nombre"}),(0,s.jsx)(o.I,{value:k.name,onChange:e=>C(a=>({...a,name:e.target.value}))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Duraci\xf3n (min)"}),(0,s.jsx)(o.I,{type:"number",min:5,max:480,value:k.durationMinutes,onChange:e=>C(a=>({...a,durationMinutes:Number(e.target.value)}))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Descripci\xf3n"}),(0,s.jsx)(c.g,{rows:3,value:k.description,onChange:e=>C(a=>({...a,description:e.target.value}))})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Precio"}),(0,s.jsxs)("div",{className:"flex items-center rounded-lg border border-slate-200",children:[(0,s.jsx)("span",{className:"px-2 text-slate-400",children:(0,s.jsx)(x,{className:"h-4 w-4"})}),(0,s.jsx)(o.I,{type:"number",min:0,step:"0.01",className:"border-0 focus-visible:ring-0",value:k.price,onChange:e=>C(a=>({...a,price:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Moneda"}),(0,s.jsx)(o.I,{value:k.currency,maxLength:3,onChange:e=>C(a=>({...a,currency:e.target.value.toUpperCase()}))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Color"}),(0,s.jsx)(o.I,{placeholder:"#2563eb",value:k.color,onChange:e=>C(a=>({...a,color:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{children:"Imagen destacada (opcional)"}),(0,s.jsx)(o.I,{placeholder:"https://...",value:k.imageUrl,onChange:e=>C(a=>({...a,imageUrl:e.target.value}))})]})]}),(0,s.jsxs)(l.cN,{children:[(0,s.jsx)(n.z,{variant:"outline",onClick:()=>b(!1),disabled:j,children:"Cancelar"}),(0,s.jsxs)(n.z,{onClick:T,disabled:j||!k.name.trim(),children:[j?(0,s.jsx)(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Guardar"]})]})]})})]})}},7299:function(e,a,t){"use strict";t.d(a,{UsersSettings:function(){return g}});var s=t(7437),r=t(2265),i=t(9820),n=t(2381),l=t(279),o=t(5662),c=t(8752),d=t(1817),u=t(9205);let m=(0,u.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var p=t(7806);let h=(0,u.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var x=t(8906),f=t(1723),v=t(8930),j=t(3804);function g(){let[e,a]=(0,r.useState)([]),[t,u]=(0,r.useState)(!0),[g,y]=(0,r.useState)(""),[b,N]=(0,r.useState)(!1),{toast:w}=(0,c.pm)(),k=async()=>{try{let e=await fetch("/api/settings/users"),t=await e.json();t.users&&a(t.users)}catch(e){console.error(e)}finally{u(!1)}};(0,r.useEffect)(()=>{k()},[]);let C=async()=>{if(g){N(!0);try{await new Promise(e=>setTimeout(e,1e3)),w({title:"Invitaci\xf3n enviada",description:"Se ha enviado un correo a ".concat(g)}),y("")}catch(e){w({title:"Error",description:"No se pudo enviar la invitaci\xf3n.",variant:"destructive"})}finally{N(!1)}}};return t?(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsx)(i.ll,{children:"Gesti\xf3n de Usuarios"}),(0,s.jsx)(i.SZ,{children:"Cargando equipo..."})]}),(0,s.jsx)(i.aY,{className:"flex justify-center py-8",children:(0,s.jsx)(d.Z,{className:"h-8 w-8 animate-spin text-slate-400"})})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsx)(i.ll,{children:"Invitar Miembros"}),(0,s.jsx)(i.SZ,{children:"Agrega nuevos usuarios a tu organizaci\xf3n para que puedan gestionar citas."})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsxs)(o._,{htmlFor:"email",className:"flex items-center gap-2",children:[(0,s.jsx)(m,{className:"h-4 w-4 text-slate-500"}),"Correo electr\xf3nico"]}),(0,s.jsx)(l.I,{id:"email",placeholder:"colaborador@empresa.com",value:g,onChange:e=>y(e.target.value)})]}),(0,s.jsxs)(n.z,{onClick:C,disabled:b||!g,children:[b?(0,s.jsx)(d.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Invitar"]})]})})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsx)(i.ll,{children:"Miembros del Equipo"}),(0,s.jsx)(i.SZ,{children:"Gestiona los accesos y roles de los usuarios actuales."})]}),(0,s.jsx)(i.aY,{children:(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(j.iA,{children:[(0,s.jsx)(j.xD,{children:(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.ss,{children:"Usuario"}),(0,s.jsx)(j.ss,{children:"Rol"}),(0,s.jsx)(j.ss,{children:"Fecha de Ingreso"}),(0,s.jsx)(j.ss,{className:"text-right",children:"Acciones"})]})}),(0,s.jsxs)(j.RM,{children:[e.map(e=>(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.pj,{children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"font-medium flex items-center gap-2",children:[(0,s.jsx)(h,{className:"h-3 w-3 text-slate-400"}),e.name]}),(0,s.jsx)("span",{className:"text-xs text-slate-500",children:e.email})]})}),(0,s.jsx)(j.pj,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"h-3 w-3 text-slate-400"}),(0,s.jsx)("span",{className:"capitalize text-sm",children:e.role})]})}),(0,s.jsx)(j.pj,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-500",children:[(0,s.jsx)(f.Z,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"text-sm",children:new Date(e.createdAt).toLocaleDateString()})]})}),(0,s.jsx)(j.pj,{className:"text-right",children:(0,s.jsx)(n.z,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:(0,s.jsx)(v.Z,{className:"h-4 w-4"})})})]},e.id)),0===e.length&&(0,s.jsx)(j.SC,{children:(0,s.jsx)(j.pj,{colSpan:4,className:"text-center py-8 text-slate-500",children:"No hay usuarios registrados"})})]})]})})})]})]})}},2381:function(e,a,t){"use strict";t.d(a,{d:function(){return l},z:function(){return o}});var s=t(7437),r=t(535),i=t(2265),n=t(3448);let l=(0,r.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-brand-600 text-white hover:bg-brand-500",outline:"border border-slate-200 bg-white text-slate-900 hover:bg-slate-50",ghost:"text-slate-600 hover:bg-slate-100",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200",destructive:"bg-red-600 text-white hover:bg-red-500"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3",lg:"h-12 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"default"}}),o=(0,i.forwardRef)((e,a)=>{let{className:t,variant:r,size:i,...o}=e;return(0,s.jsx)("button",{ref:a,className:(0,n.cn)(l({variant:r,size:i,className:t})),...o})});o.displayName="Button"},9820:function(e,a,t){"use strict";t.d(a,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return n},aY:function(){return d},ll:function(){return o}});var s=t(7437),r=t(2265),i=t(3448);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("rounded-2xl border border-slate-200 bg-white/90 shadow-[0_10px_40px_-20px_rgba(15,23,42,0.4)] backdrop-blur",t),...r})});n.displayName="Card";let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("h3",{ref:a,className:(0,i.cn)("font-semibold leading-none tracking-tight",t),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",t),...r})});d.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},4291:function(e,a,t){"use strict";t.d(a,{$N:function(){return h},Be:function(){return x},Vq:function(){return o},cN:function(){return p},cZ:function(){return u},fK:function(){return m}});var s=t(7437),r=t(2265),i=t(2505),n=t(2489),l=t(3448);let o=i.fC;i.xz;let c=i.h_;i.x8;let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.aV,{ref:a,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});d.displayName=i.aV.displayName;let u=r.forwardRef((e,a)=>{let{className:t,children:r,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(i.VY,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[r,(0,s.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=i.VY.displayName;let m=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};m.displayName="DialogHeader";let p=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};p.displayName="DialogFooter";let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.Dx,{ref:a,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});h.displayName=i.Dx.displayName;let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.dk,{ref:a,className:(0,l.cn)("text-sm text-slate-500",t),...r})});x.displayName=i.dk.displayName},279:function(e,a,t){"use strict";t.d(a,{I:function(){return n}});var s=t(7437),r=t(2265),i=t(3448);let n=(0,r.forwardRef)((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("input",{ref:a,className:(0,i.cn)("flex h-10 w-full rounded-lg border border-slate-200 bg-white px-3 text-sm text-slate-900 shadow-sm placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",t),...r})});n.displayName="Input"},5662:function(e,a,t){"use strict";t.d(a,{_:function(){return v}});var s=t(7437),r=t(2265),i=t.t(r,2);t(4887);var n=t(8575),l=Symbol.for("react.lazy"),o=i[" use ".trim().toString()];function c(e){var a;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(a=e._payload)&&null!==a&&"then"in a}var d=Symbol("radix.slottable");function u(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}var m=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let t=function(e){let a=function(e){let a=r.forwardRef((e,a)=>{let{children:t,...s}=e;if(c(t)&&"function"==typeof o&&(t=o(t._payload)),r.isValidElement(t)){var i;let e,l;let o=(i=t,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),c=function(e,a){let t={...a};for(let s in a){let r=e[s],i=a[s];/^on[A-Z]/.test(s)?r&&i?t[s]=(...e)=>{let a=i(...e);return r(...e),a}:r&&(t[s]=r):"style"===s?t[s]={...r,...i}:"className"===s&&(t[s]=[r,i].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==r.Fragment&&(c.ref=a?(0,n.F)(a,o):o),r.cloneElement(t,c)}return r.Children.count(t)>1?r.Children.only(null):null});return a.displayName=`${e}.SlotClone`,a}(e),t=r.forwardRef((e,t)=>{let{children:i,...n}=e;c(i)&&"function"==typeof o&&(i=o(i._payload));let l=r.Children.toArray(i),d=l.find(u);if(d){let e=d.props.children,i=l.map(a=>a!==d?a:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,s.jsx)(a,{...n,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,s.jsx)(a,{...n,ref:t,children:i})});return t.displayName=`${e}.Slot`,t}(`Primitive.${a}`),i=r.forwardRef((e,r)=>{let{asChild:i,...n}=e,l=i?t:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(l,{...n,ref:r})});return i.displayName=`Primitive.${a}`,{...e,[a]:i}},{}),p=r.forwardRef((e,a)=>(0,s.jsx)(m.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));p.displayName="Label";var h=t(535),x=t(3448);let f=(0,h.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(p,{ref:a,className:(0,x.cn)(f(),t),...r})});v.displayName=p.displayName},4589:function(e,a,t){"use strict";t.d(a,{r:function(){return n}});var s=t(7437),r=t(2265),i=t(3448);let n=r.forwardRef((e,a)=>{let{className:t,checked:r,onCheckedChange:n,...l}=e;return(0,s.jsx)("button",{type:"button",role:"switch","aria-checked":r,onClick:()=>null==n?void 0:n(!r),ref:a,className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r?"bg-brand-600":"bg-slate-200",t),...l,children:(0,s.jsx)("span",{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform",r?"translate-x-5":"translate-x-0")})})});n.displayName="Switch"},3804:function(e,a,t){"use strict";t.d(a,{RM:function(){return o},SC:function(){return c},iA:function(){return n},pj:function(){return u},ss:function(){return d},xD:function(){return l}});var s=t(7437),r=t(2265),i=t(3448);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,i.cn)("w-full caption-bottom text-sm",t),...r})})});n.displayName="Table";let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("thead",{ref:a,className:(0,i.cn)("[&_tr]:border-b",t),...r})});l.displayName="TableHeader";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tbody",{ref:a,className:(0,i.cn)("[&_tr:last-child]:border-0",t),...r})});o.displayName="TableBody",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tfoot",{ref:a,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tr",{ref:a,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});c.displayName="TableRow";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("th",{ref:a,className:(0,i.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})});d.displayName="TableHead";let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("td",{ref:a,className:(0,i.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})});u.displayName="TableCell",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("caption",{ref:a,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption"},3675:function(e,a,t){"use strict";t.d(a,{g:function(){return n}});var s=t(7437),r=t(2265),i=t(3448);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...r})});n.displayName="Textarea"},8752:function(e,a,t){"use strict";t.d(a,{pm:function(){return m}});var s=t(2265);let r=0,i=new Map,n=e=>{if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===a.toastId?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function u(e){let{...a}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",id:t,toast:e})}}function m(){let[e,a]=s.useState(c);return s.useEffect(()=>(o.push(a),()=>{let e=o.indexOf(a);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},8933:function(e,a,t){"use strict";t.d(a,{o:function(){return r}});var s=t(5452);function r(){return(0,s.createClientComponentClient)()}},3448:function(e,a,t){"use strict";t.d(a,{cn:function(){return i}});var s=t(1994),r=t(3335);function i(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m6)((0,s.W)(a))}}},function(e){e.O(0,[851,679,641,971,117,744],function(){return e(e.s=4987)}),_N_E=e.O()}]);