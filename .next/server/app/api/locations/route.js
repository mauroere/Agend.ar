"use strict";(()=>{var e={};e.id=4657,e.ids=[4657],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},6151:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>x,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var r={};n.r(r),n.d(r,{GET:()=>d});var s=n(9303),a=n(8716),o=n(670),i=n(7070),u=n(3837);async function d(e){let t=(0,u.j)(),{data:n}=await t.auth.getSession(),r=n.session?.user?.app_metadata?.tenant_id??n.session?.user?.user_metadata?.tenant_id??null,s=e.headers.get("x-tenant-id"),a=r??s;if(!n.session||!a)return i.NextResponse.json({error:"Unauthorized"},{status:401});if(s&&r&&s!==r)return i.NextResponse.json({error:"Tenant mismatch"},{status:403});let{data:o,error:d}=await t.from("agenda_locations").select("id, name, timezone, default_duration, buffer_minutes").eq("tenant_id",a).order("name",{ascending:!0});return d?i.NextResponse.json({error:d.message},{status:400}):i.NextResponse.json({locations:o??[]})}let p=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/locations/route",pathname:"/api/locations",filename:"route",bundlePath:"app/api/locations/route"},resolvedPagePath:"C:\\Users\\rementeriama\\Downloads\\Code\\Agend.ar\\src\\app\\api\\locations\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=p,x="/api/locations/route";function g(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},3837:(e,t,n)=>{n.d(t,{j:()=>a});var r=n(1615),s=n(344);function a(){return(0,s.createRouteHandlerClient)({cookies:r.cookies})}}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[9276,7857,5972,958],()=>n(6151));module.exports=r})();