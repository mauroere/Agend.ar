"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/settings/templates/route";
exports.ids = ["app/api/settings/templates/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Ftemplates%2Froute&page=%2Fapi%2Fsettings%2Ftemplates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Ftemplates%2Froute.ts&appDir=C%3A%5CUsers%5Crementeriama%5CDownloads%5CCode%5CAgend.ar%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crementeriama%5CDownloads%5CCode%5CAgend.ar&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Ftemplates%2Froute&page=%2Fapi%2Fsettings%2Ftemplates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Ftemplates%2Froute.ts&appDir=C%3A%5CUsers%5Crementeriama%5CDownloads%5CCode%5CAgend.ar%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crementeriama%5CDownloads%5CCode%5CAgend.ar&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_rementeriama_Downloads_Code_Agend_ar_src_app_api_settings_templates_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/settings/templates/route.ts */ \"(rsc)/./src/app/api/settings/templates/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/settings/templates/route\",\n        pathname: \"/api/settings/templates\",\n        filename: \"route\",\n        bundlePath: \"app/api/settings/templates/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\rementeriama\\\\Downloads\\\\Code\\\\Agend.ar\\\\src\\\\app\\\\api\\\\settings\\\\templates\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_rementeriama_Downloads_Code_Agend_ar_src_app_api_settings_templates_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/settings/templates/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZXR0aW5ncyUyRnRlbXBsYXRlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2V0dGluZ3MlMkZ0ZW1wbGF0ZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzZXR0aW5ncyUyRnRlbXBsYXRlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNyZW1lbnRlcmlhbWElNUNEb3dubG9hZHMlNUNDb2RlJTVDQWdlbmQuYXIlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q3JlbWVudGVyaWFtYSU1Q0Rvd25sb2FkcyU1Q0NvZGUlNUNBZ2VuZC5hciZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZ0Q7QUFDN0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VuZGFyLWFwcC8/M2I1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxyZW1lbnRlcmlhbWFcXFxcRG93bmxvYWRzXFxcXENvZGVcXFxcQWdlbmQuYXJcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcc2V0dGluZ3NcXFxcdGVtcGxhdGVzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zZXR0aW5ncy90ZW1wbGF0ZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zZXR0aW5ncy90ZW1wbGF0ZXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3NldHRpbmdzL3RlbXBsYXRlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHJlbWVudGVyaWFtYVxcXFxEb3dubG9hZHNcXFxcQ29kZVxcXFxBZ2VuZC5hclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxzZXR0aW5nc1xcXFx0ZW1wbGF0ZXNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3NldHRpbmdzL3RlbXBsYXRlcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Ftemplates%2Froute&page=%2Fapi%2Fsettings%2Ftemplates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Ftemplates%2Froute.ts&appDir=C%3A%5CUsers%5Crementeriama%5CDownloads%5CCode%5CAgend.ar%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crementeriama%5CDownloads%5CCode%5CAgend.ar&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/settings/templates/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/settings/templates/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/messages */ \"(rsc)/./src/lib/messages.ts\");\n/* harmony import */ var _lib_supabase_route__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase/route */ \"(rsc)/./src/lib/supabase/route.ts\");\n\n\n\nconst allowedNames = Object.values(_lib_messages__WEBPACK_IMPORTED_MODULE_1__.TEMPLATE_NAMES);\nasync function POST(request) {\n    const supabase = (0,_lib_supabase_route__WEBPACK_IMPORTED_MODULE_2__.getRouteSupabase)();\n    const { data: auth } = await supabase.auth.getSession();\n    const tokenTenant = auth.session?.user?.app_metadata?.tenant_id ?? auth.session?.user?.user_metadata?.tenant_id ?? null;\n    const headerTenant = request.headers.get(\"x-tenant-id\");\n    const tenantId = tokenTenant ?? headerTenant;\n    if (!auth.session || !tenantId) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: \"Unauthorized\"\n    }, {\n        status: 401\n    });\n    const isDev = \"development\" === \"development\";\n    const isDefaultTenant = headerTenant === \"tenant_1\";\n    if (headerTenant && tokenTenant && headerTenant !== tokenTenant) {\n        if (!isDev || !isDefaultTenant) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Tenant mismatch\"\n            }, {\n                status: 403\n            });\n        }\n    }\n    const body = await request.json();\n    const templates = body?.templates ?? [];\n    for (const tpl of templates){\n        if (!allowedNames.includes(tpl.name)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Template ${tpl.name} not allowed`\n            }, {\n                status: 400\n            });\n        }\n        if (!tpl.content || typeof tpl.content !== \"string\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid template content\"\n            }, {\n                status: 400\n            });\n        }\n        const { data: existing } = await supabase.from(\"agenda_message_templates\").select(\"id\").eq(\"tenant_id\", tenantId).eq(\"name\", tpl.name).maybeSingle();\n        const existingId = existing?.id;\n        if (existingId) {\n            const updatePayload = {\n                content: tpl.content,\n                status: tpl.status ?? \"active\",\n                meta_template_name: tpl.meta_template_name ?? null\n            };\n            const { error } = await supabase.from(\"agenda_message_templates\").update(updatePayload).eq(\"id\", existingId).eq(\"tenant_id\", tenantId);\n            if (error) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 400\n            });\n        } else {\n            const insertPayload = {\n                tenant_id: tenantId,\n                name: tpl.name,\n                language: \"es\",\n                content: tpl.content,\n                status: tpl.status ?? \"active\",\n                meta_template_name: tpl.meta_template_name ?? null\n            };\n            const { error } = await supabase.from(\"agenda_message_templates\").insert(insertPayload);\n            if (error) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 400\n            });\n        }\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        ok: true\n    });\n}\nasync function GET(request) {\n    const supabase = (0,_lib_supabase_route__WEBPACK_IMPORTED_MODULE_2__.getRouteSupabase)();\n    const { data: auth } = await supabase.auth.getSession();\n    const tokenTenant = auth.session?.user?.app_metadata?.tenant_id ?? auth.session?.user?.user_metadata?.tenant_id ?? null;\n    const headerTenant = request.headers.get(\"x-tenant-id\");\n    const tenantId = tokenTenant ?? headerTenant;\n    if (!auth.session || !tenantId) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: \"Unauthorized\"\n    }, {\n        status: 401\n    });\n    const isDev = \"development\" === \"development\";\n    const isDefaultTenant = headerTenant === \"tenant_1\";\n    if (headerTenant && tokenTenant && headerTenant !== tokenTenant) {\n        if (!isDev || !isDefaultTenant) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Tenant mismatch\"\n            }, {\n                status: 403\n            });\n        }\n    }\n    const { data, error } = await supabase.from(\"agenda_message_templates\").select(\"name, content, status, meta_template_name\").eq(\"tenant_id\", tenantId);\n    if (error) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: error.message\n    }, {\n        status: 400\n    });\n    // Fill defaults for missing templates\n    const typed = data ?? [];\n    const mapped = allowedNames.map((name)=>{\n        const existing = typed.find((row)=>row.name === name);\n        return {\n            name,\n            content: existing?.content ?? _lib_messages__WEBPACK_IMPORTED_MODULE_1__.templatePreview[name],\n            status: existing?.status ?? \"active\",\n            meta_template_name: existing?.meta_template_name ?? null\n        };\n    });\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        templates: mapped\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zZXR0aW5ncy90ZW1wbGF0ZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFDUztBQUNUO0FBS3hELE1BQU1JLGVBQWVDLE9BQU9DLE1BQU0sQ0FBQ0wseURBQWNBO0FBUzFDLGVBQWVNLEtBQUtDLE9BQW9CO0lBQzdDLE1BQU1DLFdBQVdOLHFFQUFnQkE7SUFDakMsTUFBTSxFQUFFTyxNQUFNQyxJQUFJLEVBQUUsR0FBRyxNQUFNRixTQUFTRSxJQUFJLENBQUNDLFVBQVU7SUFDckQsTUFBTUMsY0FBYyxLQUFNQyxPQUFPLEVBQUVDLE1BQU1DLGNBQXFEQyxhQUN4Rk4sS0FBS0csT0FBTyxFQUFFQyxNQUFNRyxlQUFzREQsYUFDM0U7SUFDTCxNQUFNRSxlQUFlWCxRQUFRWSxPQUFPLENBQUNDLEdBQUcsQ0FBQztJQUN6QyxNQUFNQyxXQUFXVCxlQUFlTTtJQUNoQyxJQUFJLENBQUNSLEtBQUtHLE9BQU8sSUFBSSxDQUFDUSxVQUFVLE9BQU90QixxREFBWUEsQ0FBQ3VCLElBQUksQ0FBQztRQUFFQyxPQUFPO0lBQWUsR0FBRztRQUFFQyxRQUFRO0lBQUk7SUFFbEcsTUFBTUMsUUFBUUMsa0JBQXlCO0lBQ3ZDLE1BQU1DLGtCQUFrQlQsaUJBQWlCO0lBQ3pDLElBQUlBLGdCQUFnQk4sZUFBZU0saUJBQWlCTixhQUFhO1FBQy9ELElBQUksQ0FBQ2EsU0FBUyxDQUFDRSxpQkFBaUI7WUFDOUIsT0FBTzVCLHFEQUFZQSxDQUFDdUIsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWtCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN2RTtJQUNGO0lBRUEsTUFBTUksT0FBTyxNQUFNckIsUUFBUWUsSUFBSTtJQUMvQixNQUFNTyxZQUFhRCxNQUFNQyxhQUFhLEVBQUU7SUFFeEMsS0FBSyxNQUFNQyxPQUFPRCxVQUFXO1FBQzNCLElBQUksQ0FBQzFCLGFBQWE0QixRQUFRLENBQUNELElBQUlFLElBQUksR0FBRztZQUNw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Q3ZFO0lBQ0Y7SUFFQSxNQUFNLEVBQUVmLElBQUksRUFBRWMsS0FBSyxFQUFFLEdBQUcsTUFBTWYsU0FDM0IyQixJQUFJLENBQUMsNEJBQ0xDLE1BQU0sQ0FBQyw2Q0FDUEMsRUFBRSxDQUFDLGFBQWFoQjtJQUVuQixJQUFJRSxPQUFPLE9BQU94QixxREFBWUEsQ0FBQ3VCLElBQUksQ0FBQztRQUFFQyxPQUFPQSxNQUFNcUIsT0FBTztJQUFDLEdBQUc7UUFBRXBCLFFBQVE7SUFBSTtJQUU1RSxzQ0FBc0M7SUFDdEMsTUFBTTBCLFFBQVN6QyxRQUFRLEVBQUU7SUFFekIsTUFBTTBDLFNBQVNoRCxhQUFhaUQsR0FBRyxDQUFDLENBQUNwQjtRQUMvQixNQUFNRSxXQUFXZ0IsTUFBTUcsSUFBSSxDQUFDLENBQUNDLE1BQVFBLElBQUl0QixJQUFJLEtBQUtBO1FBQ2xELE9BQU87WUFDTEE7WUFDQUMsU0FBU0MsVUFBVUQsV0FBV2hDLDBEQUFlLENBQUMrQixLQUFxQztZQUNuRlIsUUFBUVUsVUFBVVYsVUFBVTtZQUM1QmtCLG9CQUFvQlIsVUFBVVEsc0JBQXNCO1FBQ3REO0lBQ0Y7SUFFQSxPQUFPM0MscURBQVlBLENBQUN1QixJQUFJLENBQUM7UUFBRU8sV0FBV3NCO0lBQU87QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VuZGFyLWFwcC8uL3NyYy9hcHAvYXBpL3NldHRpbmdzL3RlbXBsYXRlcy9yb3V0ZS50cz8xNmQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgVEVNUExBVEVfTkFNRVMsIHRlbXBsYXRlUHJldmlldyB9IGZyb20gXCJAL2xpYi9tZXNzYWdlc1wiO1xyXG5pbXBvcnQgeyBnZXRSb3V0ZVN1cGFiYXNlIH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3JvdXRlXCI7XHJcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSBcIkAvdHlwZXMvZGF0YWJhc2VcIjtcclxuXHJcbnR5cGUgVGVtcGxhdGVSb3cgPSBEYXRhYmFzZVtcInB1YmxpY1wiXVtcIlRhYmxlc1wiXVtcImFnZW5kYV9tZXNzYWdlX3RlbXBsYXRlc1wiXVtcIlJvd1wiXTtcclxuXHJcbmNvbnN0IGFsbG93ZWROYW1lcyA9IE9iamVjdC52YWx1ZXMoVEVNUExBVEVfTkFNRVMpIGFzIHN0cmluZ1tdO1xyXG5cclxudHlwZSBJbmNvbWluZ1RlbXBsYXRlID0ge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBjb250ZW50OiBzdHJpbmc7XHJcbiAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgbWV0YV90ZW1wbGF0ZV9uYW1lPzogc3RyaW5nIHwgbnVsbDtcclxufTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBnZXRSb3V0ZVN1cGFiYXNlKCkgYXMgYW55O1xyXG4gIGNvbnN0IHsgZGF0YTogYXV0aCB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XHJcbiAgY29uc3QgdG9rZW5UZW5hbnQgPSAoYXV0aC5zZXNzaW9uPy51c2VyPy5hcHBfbWV0YWRhdGEgYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPiB8IHVuZGVmaW5lZCk/LnRlbmFudF9pZFxyXG4gICAgPz8gKGF1dGguc2Vzc2lvbj8udXNlcj8udXNlcl9tZXRhZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgdW5kZWZpbmVkKT8udGVuYW50X2lkXHJcbiAgICA/PyBudWxsO1xyXG4gIGNvbnN0IGhlYWRlclRlbmFudCA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJ4LXRlbmFudC1pZFwiKTtcclxuICBjb25zdCB0ZW5hbnRJZCA9IHRva2VuVGVuYW50ID8/IGhlYWRlclRlbmFudDtcclxuICBpZiAoIWF1dGguc2Vzc2lvbiB8fCAhdGVuYW50SWQpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgXHJcbiAgY29uc3QgaXNEZXYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiO1xyXG4gIGNvbnN0IGlzRGVmYXVsdFRlbmFudCA9IGhlYWRlclRlbmFudCA9PT0gXCJ0ZW5hbnRfMVwiO1xyXG4gIGlmIChoZWFkZXJUZW5hbnQgJiYgdG9rZW5UZW5hbnQgJiYgaGVhZGVyVGVuYW50ICE9PSB0b2tlblRlbmFudCkge1xyXG4gICAgaWYgKCFpc0RldiB8fCAhaXNEZWZhdWx0VGVuYW50KSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlRlbmFudCBtaXNtYXRjaFwiIH0sIHsgc3RhdHVzOiA0MDMgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgY29uc3QgdGVtcGxhdGVzID0gKGJvZHk/LnRlbXBsYXRlcyA/PyBbXSkgYXMgSW5jb21pbmdUZW1wbGF0ZVtdO1xyXG5cclxuICBmb3IgKGNvbnN0IHRwbCBvZiB0ZW1wbGF0ZXMpIHtcclxuICAgIGlmICghYWxsb3dlZE5hbWVzLmluY2x1ZGVzKHRwbC5uYW1lKSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogYFRlbXBsYXRlICR7dHBsLm5hbWV9IG5vdCBhbGxvd2VkYCB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0cGwuY29udGVudCB8fCB0eXBlb2YgdHBsLmNvbnRlbnQgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSW52YWxpZCB0ZW1wbGF0ZSBjb250ZW50XCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmcgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiYWdlbmRhX21lc3NhZ2VfdGVtcGxhdGVzXCIpXHJcbiAgICAgIC5zZWxlY3QoXCJpZFwiKVxyXG4gICAgICAuZXEoXCJ0ZW5hbnRfaWRcIiwgdGVuYW50SWQpXHJcbiAgICAgIC5lcShcIm5hbWVcIiwgdHBsLm5hbWUpXHJcbiAgICAgIC5tYXliZVNpbmdsZSgpO1xyXG5cclxuICAgIGNvbnN0IGV4aXN0aW5nSWQgPSAoZXhpc3RpbmcgYXMgUGljazxUZW1wbGF0ZVJvdywgXCJpZFwiPiB8IG51bGwpPy5pZDtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdJZCkge1xyXG4gICAgICBjb25zdCB1cGRhdGVQYXlsb2FkID0ge1xyXG4gICAgICAgIGNvbnRlbnQ6IHRwbC5jb250ZW50LFxyXG4gICAgICAgIHN0YXR1czogdHBsLnN0YXR1cyA/PyBcImFjdGl2ZVwiLFxyXG4gICAgICAgIG1ldGFfdGVtcGxhdGVfbmFtZTogdHBsLm1ldGFfdGVtcGxhdGVfbmFtZSA/PyBudWxsLFxyXG4gICAgICB9IHNhdGlzZmllcyBQYXJ0aWFsPFRlbXBsYXRlUm93PjtcclxuXHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oXCJhZ2VuZGFfbWVzc2FnZV90ZW1wbGF0ZXNcIilcclxuICAgICAgICAudXBkYXRlKHVwZGF0ZVBheWxvYWQpXHJcbiAgICAgICAgLmVxKFwiaWRcIiwgZXhpc3RpbmdJZClcclxuICAgICAgICAuZXEoXCJ0ZW5hbnRfaWRcIiwgdGVuYW50SWQpO1xyXG4gICAgICBpZiAoZXJyb3IpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBpbnNlcnRQYXlsb2FkID0ge1xyXG4gICAgICAgIHRlbmFudF9pZDogdGVuYW50SWQsXHJcbiAgICAgICAgbmFtZTogdHBsLm5hbWUsXHJcbiAgICAgICAgbGFuZ3VhZ2U6IFwiZXNcIixcclxuICAgICAgICBjb250ZW50OiB0cGwuY29udGVudCxcclxuICAgICAgICBzdGF0dXM6IHRwbC5zdGF0dXMgPz8gXCJhY3RpdmVcIixcclxuICAgICAgICBtZXRhX3RlbXBsYXRlX25hbWU6IHRwbC5tZXRhX3RlbXBsYXRlX25hbWUgPz8gbnVsbCxcclxuICAgICAgfSBzYXRpc2ZpZXMgRGF0YWJhc2VbXCJwdWJsaWNcIl1bXCJUYWJsZXNcIl1bXCJhZ2VuZGFfbWVzc2FnZV90ZW1wbGF0ZXNcIl1bXCJJbnNlcnRcIl07XHJcblxyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwiYWdlbmRhX21lc3NhZ2VfdGVtcGxhdGVzXCIpLmluc2VydChpbnNlcnRQYXlsb2FkKTtcclxuICAgICAgaWYgKGVycm9yKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6IHRydWUgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGdldFJvdXRlU3VwYWJhc2UoKSBhcyBhbnk7XHJcbiAgY29uc3QgeyBkYXRhOiBhdXRoIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcclxuICBjb25zdCB0b2tlblRlbmFudCA9IChhdXRoLnNlc3Npb24/LnVzZXI/LmFwcF9tZXRhZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgdW5kZWZpbmVkKT8udGVuYW50X2lkXHJcbiAgICA/PyAoYXV0aC5zZXNzaW9uPy51c2VyPy51c2VyX21ldGFkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCB1bmRlZmluZWQpPy50ZW5hbnRfaWRcclxuICAgID8/IG51bGw7XHJcbiAgY29uc3QgaGVhZGVyVGVuYW50ID0gcmVxdWVzdC5oZWFkZXJzLmdldChcIngtdGVuYW50LWlkXCIpO1xyXG4gIGNvbnN0IHRlbmFudElkID0gdG9rZW5UZW5hbnQgPz8gaGVhZGVyVGVuYW50O1xyXG4gIGlmICghYXV0aC5zZXNzaW9uIHx8ICF0ZW5hbnRJZCkgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICBcclxuICBjb25zdCBpc0RldiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCI7XHJcbiAgY29uc3QgaXNEZWZhdWx0VGVuYW50ID0gaGVhZGVyVGVuYW50ID09PSBcInRlbmFudF8xXCI7XHJcbiAgaWYgKGhlYWRlclRlbmFudCAmJiB0b2tlblRlbmFudCAmJiBoZWFkZXJUZW5hbnQgIT09IHRva2VuVGVuYW50KSB7XHJcbiAgICBpZiAoIWlzRGV2IHx8ICFpc0RlZmF1bHRUZW5hbnQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVGVuYW50IG1pc21hdGNoXCIgfSwgeyBzdGF0dXM6IDQwMyB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImFnZW5kYV9tZXNzYWdlX3RlbXBsYXRlc1wiKVxyXG4gICAgLnNlbGVjdChcIm5hbWUsIGNvbnRlbnQsIHN0YXR1cywgbWV0YV90ZW1wbGF0ZV9uYW1lXCIpXHJcbiAgICAuZXEoXCJ0ZW5hbnRfaWRcIiwgdGVuYW50SWQpO1xyXG5cclxuICBpZiAoZXJyb3IpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcblxyXG4gIC8vIEZpbGwgZGVmYXVsdHMgZm9yIG1pc3NpbmcgdGVtcGxhdGVzXHJcbiAgY29uc3QgdHlwZWQgPSAoZGF0YSA/PyBbXSkgYXMgQXJyYXk8UGljazxUZW1wbGF0ZVJvdywgXCJuYW1lXCIgfCBcImNvbnRlbnRcIiB8IFwic3RhdHVzXCIgfCBcIm1ldGFfdGVtcGxhdGVfbmFtZVwiPj47XHJcblxyXG4gIGNvbnN0IG1hcHBlZCA9IGFsbG93ZWROYW1lcy5tYXAoKG5hbWUpID0+IHtcclxuICAgIGNvbnN0IGV4aXN0aW5nID0gdHlwZWQuZmluZCgocm93KSA9PiByb3cubmFtZSA9PT0gbmFtZSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBjb250ZW50OiBleGlzdGluZz8uY29udGVudCA/PyB0ZW1wbGF0ZVByZXZpZXdbbmFtZSBhcyBrZXlvZiB0eXBlb2YgdGVtcGxhdGVQcmV2aWV3XSxcclxuICAgICAgc3RhdHVzOiBleGlzdGluZz8uc3RhdHVzID8/IFwiYWN0aXZlXCIsXHJcbiAgICAgIG1ldGFfdGVtcGxhdGVfbmFtZTogZXhpc3Rpbmc/Lm1ldGFfdGVtcGxhdGVfbmFtZSA/PyBudWxsLFxyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgdGVtcGxhdGVzOiBtYXBwZWQgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIlRFTVBMQVRFX05BTUVTIiwidGVtcGxhdGVQcmV2aWV3IiwiZ2V0Um91dGVTdXBhYmFzZSIsImFsbG93ZWROYW1lcyIsIk9iamVjdCIsInZhbHVlcyIsIlBPU1QiLCJyZXF1ZXN0Iiwic3VwYWJhc2UiLCJkYXRhIiwiYXV0aCIsImdldFNlc3Npb24iLCJ0b2tlblRlbmFudCIsInNlc3Npb24iLCJ1c2VyIiwiYXBwX21ldGFkYXRhIiwidGVuYW50X2lkIiwidXNlcl9tZXRhZGF0YSIsImhlYWRlclRlbmFudCIsImhlYWRlcnMiLCJnZXQiLCJ0ZW5hbnRJZCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImlzRGV2IiwicHJvY2VzcyIsImlzRGVmYXVsdFRlbmFudCIsImJvZHkiLCJ0ZW1wbGF0ZXMiLCJ0cGwiLCJpbmNsdWRlcyIsIm5hbWUiLCJjb250ZW50IiwiZXhpc3RpbmciLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJtYXliZVNpbmdsZSIsImV4aXN0aW5nSWQiLCJpZCIsInVwZGF0ZVBheWxvYWQiLCJtZXRhX3RlbXBsYXRlX25hbWUiLCJ1cGRhdGUiLCJtZXNzYWdlIiwiaW5zZXJ0UGF5bG9hZCIsImxhbmd1YWdlIiwiaW5zZXJ0Iiwib2siLCJHRVQiLCJ0eXBlZCIsIm1hcHBlZCIsIm1hcCIsImZpbmQiLCJyb3ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/settings/templates/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/messages.ts":
/*!*****************************!*\
  !*** ./src/lib/messages.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TEMPLATE_NAMES: () => (/* binding */ TEMPLATE_NAMES),\n/* harmony export */   templatePreview: () => (/* binding */ templatePreview)\n/* harmony export */ });\nconst TEMPLATE_NAMES = {\n    appointmentCreated: \"appointment_created\",\n    reminder24h: \"reminder_24h\",\n    reminder2h: \"reminder_2h\",\n    waitlistOffer: \"waitlist_offer\"\n};\nconst templatePreview = {\n    [TEMPLATE_NAMES.appointmentCreated]: \"Hola {{1}}, agendamos tu turno para {{2}} a las {{3}} en {{4}}. Respond\\xe9 1 Confirmar \\xb7 2 Reprogramar \\xb7 3 Cancelar \\xb7 STOP para salir.\",\n    [TEMPLATE_NAMES.reminder24h]: \"Recordatorio {{1}} ma\\xf1ana {{2}}. Respond\\xe9 1 Confirmar \\xb7 2 Reprogramar \\xb7 3 Cancelar \\xb7 STOP.\",\n    [TEMPLATE_NAMES.reminder2h]: \"Nos vemos hoy {{1}} a las {{2}}. Si necesit\\xe1s moverlo respond\\xe9 2, cancelar 3.\",\n    [TEMPLATE_NAMES.waitlistOffer]: \"Se liber\\xf3 un turno {{1}} a las {{2}}. Respond\\xe9 SI para tomarlo o STOP para salir.\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21lc3NhZ2VzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sTUFBTUEsaUJBQWlCO0lBQzVCQyxvQkFBb0I7SUFDcEJDLGFBQWE7SUFDYkMsWUFBWTtJQUNaQyxlQUFlO0FBQ2pCLEVBQVc7QUFTSixNQUFNQyxrQkFBa0I7SUFDN0IsQ0FBQ0wsZUFBZUMsa0JBQWtCLENBQUMsRUFDakM7SUFDRixDQUFDRCxlQUFlRSxXQUFXLENBQUMsRUFDMUI7SUFDRixDQUFDRixlQUFlRyxVQUFVLENBQUMsRUFDekI7SUFDRixDQUFDSCxlQUFlSSxhQUFhLENBQUMsRUFDNUI7QUFDSixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWdlbmRhci1hcHAvLi9zcmMvbGliL21lc3NhZ2VzLnRzP2I0NjUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFRFTVBMQVRFX05BTUVTID0ge1xyXG4gIGFwcG9pbnRtZW50Q3JlYXRlZDogXCJhcHBvaW50bWVudF9jcmVhdGVkXCIsXHJcbiAgcmVtaW5kZXIyNGg6IFwicmVtaW5kZXJfMjRoXCIsXHJcbiAgcmVtaW5kZXIyaDogXCJyZW1pbmRlcl8yaFwiLFxyXG4gIHdhaXRsaXN0T2ZmZXI6IFwid2FpdGxpc3Rfb2ZmZXJcIixcclxufSBhcyBjb25zdDtcclxuXHJcbmV4cG9ydCB0eXBlIFRlbXBsYXRlUnVuQ29udGV4dCA9IHtcclxuICBwYXRpZW50TmFtZTogc3RyaW5nO1xyXG4gIGRhdGU6IHN0cmluZztcclxuICB0aW1lOiBzdHJpbmc7XHJcbiAgbG9jYXRpb246IHN0cmluZztcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZVByZXZpZXcgPSB7XHJcbiAgW1RFTVBMQVRFX05BTUVTLmFwcG9pbnRtZW50Q3JlYXRlZF06XHJcbiAgICBcIkhvbGEge3sxfX0sIGFnZW5kYW1vcyB0dSB0dXJubyBwYXJhIHt7Mn19IGEgbGFzIHt7M319IGVuIHt7NH19LiBSZXNwb25kw6kgMSBDb25maXJtYXIgwrcgMiBSZXByb2dyYW1hciDCtyAzIENhbmNlbGFyIMK3IFNUT1AgcGFyYSBzYWxpci5cIixcclxuICBbVEVNUExBVEVfTkFNRVMucmVtaW5kZXIyNGhdOlxyXG4gICAgXCJSZWNvcmRhdG9yaW8ge3sxfX0gbWHDsWFuYSB7ezJ9fS4gUmVzcG9uZMOpIDEgQ29uZmlybWFyIMK3IDIgUmVwcm9ncmFtYXIgwrcgMyBDYW5jZWxhciDCtyBTVE9QLlwiLFxyXG4gIFtURU1QTEFURV9OQU1FUy5yZW1pbmRlcjJoXTpcclxuICAgIFwiTm9zIHZlbW9zIGhveSB7ezF9fSBhIGxhcyB7ezJ9fS4gU2kgbmVjZXNpdMOhcyBtb3ZlcmxvIHJlc3BvbmTDqSAyLCBjYW5jZWxhciAzLlwiLFxyXG4gIFtURU1QTEFURV9OQU1FUy53YWl0bGlzdE9mZmVyXTpcclxuICAgIFwiU2UgbGliZXLDsyB1biB0dXJubyB7ezF9fSBhIGxhcyB7ezJ9fS4gUmVzcG9uZMOpIFNJIHBhcmEgdG9tYXJsbyBvIFNUT1AgcGFyYSBzYWxpci5cIixcclxufTtcclxuIl0sIm5hbWVzIjpbIlRFTVBMQVRFX05BTUVTIiwiYXBwb2ludG1lbnRDcmVhdGVkIiwicmVtaW5kZXIyNGgiLCJyZW1pbmRlcjJoIiwid2FpdGxpc3RPZmZlciIsInRlbXBsYXRlUHJldmlldyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/messages.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/route.ts":
/*!***********************************!*\
  !*** ./src/lib/supabase/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRouteSupabase: () => (/* binding */ getRouteSupabase)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/auth-helpers-nextjs */ \"(rsc)/./node_modules/@supabase/auth-helpers-nextjs/dist/index.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction getRouteSupabase() {\n    return (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__.createRouteHandlerClient)({\n        cookies: next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUM7QUFDa0M7QUFHbEUsU0FBU0U7SUFDZCxPQUFPRCx1RkFBd0JBLENBQVc7UUFBRUQsT0FBT0EsbURBQUFBO0lBQUM7QUFDdEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VuZGFyLWFwcC8uL3NyYy9saWIvc3VwYWJhc2Uvcm91dGUudHM/M2NlNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb29raWVzIH0gZnJvbSBcIm5leHQvaGVhZGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL2F1dGgtaGVscGVycy1uZXh0anNcIjtcclxuaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tIFwiQC90eXBlcy9kYXRhYmFzZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdXRlU3VwYWJhc2UoKSB7XHJcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudDxEYXRhYmFzZT4oeyBjb29raWVzIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjb29raWVzIiwiY3JlYXRlUm91dGVIYW5kbGVyQ2xpZW50IiwiZ2V0Um91dGVTdXBhYmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js","vendor-chunks/set-cookie-parser","vendor-chunks/jose"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Ftemplates%2Froute&page=%2Fapi%2Fsettings%2Ftemplates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Ftemplates%2Froute.ts&appDir=C%3A%5CUsers%5Crementeriama%5CDownloads%5CCode%5CAgend.ar%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crementeriama%5CDownloads%5CCode%5CAgend.ar&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();