"use strict";(()=>{var e={};e.id=5778,e.ids=[5778],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},2285:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>x,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var s={};n.r(s),n.d(s,{POST:()=>d});var r=n(9303),a=n(8716),o=n(670),i=n(7070),u=n(3837);async function d(e){let t=(0,u.j)(),{data:n}=await t.auth.getSession(),s=n.session?.user?.app_metadata?.tenant_id??n.session?.user?.user_metadata?.tenant_id??null,r=e.headers.get("x-tenant-id"),a=s??r;if(!n.session||!a)return i.NextResponse.json({error:"Unauthorized"},{status:401});if(r&&s&&r!==s)return i.NextResponse.json({error:"Tenant mismatch"},{status:403});let{defaultDuration:o,bufferMinutes:d}=await e.json()??{};if("number"!=typeof o||"number"!=typeof d)return i.NextResponse.json({error:"Invalid payload"},{status:400});let{data:p}=await t.from("agenda_locations").select("id").eq("tenant_id",a).order("name",{ascending:!0}).limit(1).maybeSingle();if(!p?.id)return i.NextResponse.json({error:"No location found"},{status:404});let{error:c}=await t.from("agenda_locations").update({default_duration:o,buffer_minutes:d}).eq("id",p.id).eq("tenant_id",a);return c?i.NextResponse.json({error:c.message},{status:400}):i.NextResponse.json({ok:!0})}let p=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/settings/location/route",pathname:"/api/settings/location",filename:"route",bundlePath:"app/api/settings/location/route"},resolvedPagePath:"C:\\Users\\rementeriama\\Downloads\\Code\\Agend.ar\\src\\app\\api\\settings\\location\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=p,x="/api/settings/location/route";function g(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},3837:(e,t,n)=>{n.d(t,{j:()=>a});var s=n(1615),r=n(344);function a(){return(0,r.createRouteHandlerClient)({cookies:s.cookies})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[9276,7857,5972,958],()=>n(2285));module.exports=s})();